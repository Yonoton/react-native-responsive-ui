{"version":3,"sources":["useStylesheet.ts"],"names":["_","mediaQuery","useDimensions","getStylesheet","width","height","styles","selectedStyles","forEach","style","query","push","cloneDeep","undefined","merge","apply","useStylesheet","dimensions"],"mappings":"AAAA,OAAO,KAAKA,CAAZ,MAAmB,QAAnB;AAGA,SAASC,UAAT,QAAuC,cAAvC;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AAQA,OAAO,MAAMC,aAAa,GAAG,CAC3B;AAAEC,EAAAA,KAAF;AAASC,EAAAA;AAAT,CAD2B,EAE3BC,MAF2B,KAGxB;AACH,QAAMC,cAAgC,GAAG,EAAzC;AACAD,EAAAA,MAAM,CAACE,OAAP,CAAgBC,KAAD,IACbR,UAAU,CAACQ,KAAK,CAACC,KAAP,EAAcN,KAAd,EAAqBC,MAArB,CAAV,GACIE,cAAc,CAACI,IAAf,CAAoBX,CAAC,CAACY,SAAF,CAAYH,KAAK,CAACA,KAAlB,CAApB,CADJ,GAEII,SAHN;AAKA,SAAOb,CAAC,CAACc,KAAF,CAAQC,KAAR,CACL,IADK,EAELR,cAFK,CAAP;AAID,CAdM;AAgBP,OAAO,MAAMS,aAAa,GACxBV,MAD2B,IAExB;AACH,QAAMW,UAAU,GAAGf,aAAa,EAAhC;AACA,SAAOC,aAAa,CAACc,UAAD,EAAaX,MAAb,CAApB;AACD,CALM","sourcesContent":["import * as _ from \"lodash\";\nimport type { ViewStyle, TextStyle, ImageStyle } from \"react-native\";\n\nimport { mediaQuery, MediaQuery } from \"./MediaQuery\";\nimport useDimensions from \"./useDimensions\";\n\ntype NamedStyles<T> = { [P in keyof T]: ViewStyle | TextStyle | ImageStyle };\ninterface MediaQueryStyle<T> {\n  query: MediaQuery;\n  style: NamedStyles<T>;\n}\n\nexport const getStylesheet = <T extends Record<string, unknown>>(\n  { width, height }: { width: number; height: number },\n  styles: MediaQueryStyle<T>[]\n) => {\n  const selectedStyles: NamedStyles<T>[] = [];\n  styles.forEach((style) =>\n    mediaQuery(style.query, width, height)\n      ? selectedStyles.push(_.cloneDeep(style.style))\n      : undefined\n  );\n  return _.merge.apply<null, NamedStyles<T>[], NamedStyles<T>>(\n    null,\n    selectedStyles\n  );\n};\n\nexport const useStylesheet = <T extends Record<string, unknown>>(\n  styles: MediaQueryStyle<T>[]\n) => {\n  const dimensions = useDimensions();\n  return getStylesheet(dimensions, styles);\n};\n"]}